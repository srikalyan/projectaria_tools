"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1673],{15680:(e,r,n)=>{n.r(r),n.d(r,{MDXContext:()=>l,MDXProvider:()=>m,mdx:()=>h,useMDXComponents:()=>p,withMDXComponents:()=>c});var o=n(96540);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function t(){return t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function d(e,r){if(null==e)return{};var n,o,a=function(e,r){if(null==e)return{};var n,o,a={},t=Object.keys(e);for(o=0;o<t.length;o++)n=t[o],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)n=t[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),c=function(e){return function(r){var n=p(r.components);return o.createElement(e,t({},r,{components:n}))}},p=function(e){var r=o.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},m=function(e){var r=p(e.components);return o.createElement(l.Provider,{value:r},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},f=o.forwardRef((function(e,r){var n=e.components,a=e.mdxType,t=e.originalType,i=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,u=c["".concat(i,".").concat(m)]||c[m]||g[m]||t;return n?o.createElement(u,s(s({ref:r},l),{},{components:n})):o.createElement(u,s({ref:r},l))}));function h(e,r){var n=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var t=n.length,i=new Array(t);i[0]=f;var s={};for(var d in r)hasOwnProperty.call(r,d)&&(s[d]=r[d]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<t;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},76769:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var o=n(58168),a=(n(96540),n(15680));n(98180);const t={sidebar_position:30,title:"Recording"},i="Make a Recording Using the Client SDK",s={unversionedId:"ARK/sdk/samples/device_recording",id:"ARK/sdk/samples/device_recording",title:"Recording",description:"Overview",source:"@site/docs/ARK/sdk/samples/device_recording.mdx",sourceDirName:"ARK/sdk/samples",slug:"/ARK/sdk/samples/device_recording",permalink:"/projectaria_tools/docs/ARK/sdk/samples/device_recording",draft:!1,editUrl:"https://github.com/facebookresearch/projectaria_tools/tree/main/website/docs/ARK/sdk/samples/device_recording.mdx",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30,title:"Recording"},sidebar:"tutorialSidebar",previous:{title:"Connection",permalink:"/projectaria_tools/docs/ARK/sdk/samples/device_connection"},next:{title:"Streaming Subscription",permalink:"/projectaria_tools/docs/ARK/sdk/samples/streaming_subscribe"}},d={},l=[{value:"Overview",id:"overview",level:2},{value:"Running the sample",id:"running-the-sample",level:2},{value:"Example 1: Start and stop recording over USB",id:"example-1-start-and-stop-recording-over-usb",level:3},{value:"Example 2: Start and stop recording using a custom sensor profile",id:"example-2-start-and-stop-recording-using-a-custom-sensor-profile",level:3},{value:"Example 3: Start and stop recording over Wi-Fi",id:"example-3-start-and-stop-recording-over-wi-fi",level:3},{value:"Code walkthrough",id:"code-walkthrough",level:3},{value:"1. Retrieve RecordingManager instance",id:"1-retrieve-recordingmanager-instance",level:4},{value:"2. Configure recording settings",id:"2-configure-recording-settings",level:4},{value:"3. Start recording for specific amount of time",id:"3-start-recording-for-specific-amount-of-time",level:4},{value:"Useful links",id:"useful-links",level:2}],c={toc:l},p="wrapper";function m(e){let{components:r,...n}=e;return(0,a.mdx)(p,(0,o.A)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"make-a-recording-using-the-client-sdk"},"Make a Recording Using the Client SDK"),(0,a.mdx)("h2",{id:"overview"},"Overview"),(0,a.mdx)("p",null,"This ",(0,a.mdx)("inlineCode",{parentName:"p"},"device_record")," example shows how to set a ",(0,a.mdx)("a",{parentName:"p",href:"/docs/tech_spec/recording_profiles"},"recording profile"),", start and stop recording using the ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/sdk"},"Project Aria Client SDK"),"."),(0,a.mdx)("h2",{id:"running-the-sample"},"Running the sample"),(0,a.mdx)("h3",{id:"example-1-start-and-stop-recording-over-usb"},"Example 1: Start and stop recording over USB"),(0,a.mdx)("p",null,"Use the SDK to establish a USB connection, start a 10 second recording using the ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/ARK_quickstart#set-your-default-recording-profile"},"default recording profile"),", then stop the recording."),(0,a.mdx)("ol",null,(0,a.mdx)("li",{parentName:"ol"},"Plug your Aria glasses into your computer, using the provided USB cable"),(0,a.mdx)("li",{parentName:"ol"},"From the samples directory in Terminal, run:")),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre"},"python -m device_record\n")),(0,a.mdx)("ol",{start:3},(0,a.mdx)("li",{parentName:"ol"},"The recording LED will show on your Aria glasses"),(0,a.mdx)("li",{parentName:"ol"},"After 10 seconds the recording will stop and be stored in your Aria glasses",(0,a.mdx)("ul",{parentName:"li"},(0,a.mdx)("li",{parentName:"ul"},"View the recording metadata in the Recordings tab of the ",(0,a.mdx)("a",{parentName:"li",href:"/docs/ARK/mobile_companion_app#recordings-menu"},"Mobile Companion app")),(0,a.mdx)("li",{parentName:"ul"},"Run ",(0,a.mdx)("inlineCode",{parentName:"li"},"adb shell ls -l /sdcard/recording")," and you should see your newly recorded file"),(0,a.mdx)("li",{parentName:"ul"},"Run ",(0,a.mdx)("inlineCode",{parentName:"li"},"adb pull /sdcard/recording/myVrsFile.vrs myLocalFolder/")," to download the VRS file"),(0,a.mdx)("li",{parentName:"ul"},"Run ",(0,a.mdx)("inlineCode",{parentName:"li"},"adb pull /sdcard/recording/myVrsFile.json myLocalFolder/")," to download the VRS metadata"),(0,a.mdx)("li",{parentName:"ul"},"VRS files can be visualized using the ",(0,a.mdx)("a",{parentName:"li",href:"/docs/data_utilities/visualization/visualization_cpp"},"Aria Viewer"))))),(0,a.mdx)("h3",{id:"example-2-start-and-stop-recording-using-a-custom-sensor-profile"},"Example 2: Start and stop recording using a custom sensor profile"),(0,a.mdx)("p",null,"Use ",(0,a.mdx)("a",{parentName:"p",href:"/docs/tech_spec/recording_profiles"},"Project Aria Recording Profiles")," to choose among different sensor configurations. To set a specific profile, run:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-bash"},"python -m device_record --profile profile15\n")),(0,a.mdx)("h3",{id:"example-3-start-and-stop-recording-over-wi-fi"},"Example 3: Start and stop recording over Wi-Fi"),(0,a.mdx)("p",null,"Recording over Wi-Fi is similar with Example 1, with a few extra steps."),(0,a.mdx)("ol",null,(0,a.mdx)("li",{parentName:"ol"},"Connect your Aria glasses and computer to the same compatible Wi-Fi network:",(0,a.mdx)("ul",{parentName:"li"},(0,a.mdx)("li",{parentName:"ul"},"Check ",(0,a.mdx)("a",{parentName:"li",href:"/projectaria_tools/docs/ARK/sdk/setup"},"Requirements")," for details about compatible routers"))),(0,a.mdx)("li",{parentName:"ol"},"Open the Mobile Companion app and tap ",(0,a.mdx)("a",{parentName:"li",href:"/docs/ARK/mobile_companion_app#dashboard"},"Wi-Fi on the Dashboard")," to see your glasses' IP address"),(0,a.mdx)("li",{parentName:"ol"},"From the samples directory in Terminal, run:")),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-bash"},"python -m device_record --device-ip <Glasses IP>\n")),(0,a.mdx)("p",null,"Make sure you replace ",(0,a.mdx)("inlineCode",{parentName:"p"},"<Glasses IP>")," with the IP address you got from the Mobile Companion app"),(0,a.mdx)("ol",{start:4},(0,a.mdx)("li",{parentName:"ol"},"The recording LED will show on your Aria glasses"),(0,a.mdx)("li",{parentName:"ol"},"After 10 seconds the recording will stop and be stored in your Aria glasses. Follow the same step in Example 1 to pull the data to your computer")),(0,a.mdx)("h3",{id:"code-walkthrough"},"Code walkthrough"),(0,a.mdx)("h4",{id:"1-retrieve-recordingmanager-instance"},"1. Retrieve RecordingManager instance"),(0,a.mdx)("p",null,"Use ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/sdk/api_reference#ariasdkrecordingmanager"},"RecordingManager")," to start and stop a recording and get access to the calibration data."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-python"},"recording_manager = device.recording_manager\n")),(0,a.mdx)("h4",{id:"2-configure-recording-settings"},"2. Configure recording settings"),(0,a.mdx)("p",null,"Set the profile name for the recording in ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/sdk/api_reference#ariasdkrecordingconfig"},"RecordingConfig")," or you'll use your glasses' ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/ARK_quickstart#set-your-default-recording-profile"},"default recording profile"),". If a default recording profile has not been set, you'll record with ",(0,a.mdx)("inlineCode",{parentName:"p"},"profile8"),". Go to the ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/sdk/concepts/sdk_sensor_profiles"},"Sensor Profiles page")," for supported profiles and their specs."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-python"},"recording_config = aria.RecordingConfig()\n# If set, profile_name takes precedence over the default profile\nrecording_config.profile_name = args.profile_name\nrecording_manager.recording_config = recording_config\n")),(0,a.mdx)("h4",{id:"3-start-recording-for-specific-amount-of-time"},"3. Start recording for specific amount of time"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-python"},"recording_manager.start_recording()\ntime.sleep(args.recording_duration)\nrecording_manager.stop_recording()\n")),(0,a.mdx)("admonition",{type:"info"},(0,a.mdx)("p",{parentName:"admonition"},"You can also stop recording using the Capture button on the glasses, Mobile Companion app or ",(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/sdk/cli/api_reference"},"CLI"),".")),(0,a.mdx)("h2",{id:"useful-links"},"Useful links"),(0,a.mdx)("p",null,(0,a.mdx)("a",{parentName:"p",href:"/docs/ARK/ARK_quickstart#record-data"},"Glasses Quickstart Guide"),": explore other ways to make recordings."))}m.isMDXComponent=!0}}]);